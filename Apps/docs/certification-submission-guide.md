---
ms.author: oromalle
title: Microsoft 365认证提交指南
author: orionomalley
manager: tonybal
description: Microsoft 365认证提交指南详细信息
keywords: 应用认证团队Microsoft 365安全合规性 m365
ms.topic: conceptual
ms.service: attestation
ms.openlocfilehash: 753b40f63b293fea83705ae8124f5f22cbebe394
ms.sourcegitcommit: 9cc3fe8502a6f21f3f6abb4dd23b99b116c51b8e
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/08/2022
ms.locfileid: "64720976"
---
# <a name="microsoft-365-certification-submission-guide"></a>Microsoft 365认证提交指南

**本文内容：**
- [简介](#introduction)
- [先决条件](#prerequisites) 
- [Microsoft 365认证规范更新](#microsoft-365-certification-specification-updates)
- [认证范围](#certification-scope)
- [认证过程](#certification-process)
- [初始文档提交](#initial-document-submission) 
- [证据收集和评估活动](#evidence-collection-and-assessment-activities)
- [认证条件](#app-certification-criteria)
- [应用程序安全](#application-security)
- [操作安全性](#operational-security) 
- [数据处理安全和隐私](#data-handling-security-and-privacy)
- [可选的外部符合性框架评审](#optional-external-compliance-frameworks-review)
- [附录 A](#appendix-a)
- [附录 B](#appendix-b) 
- [附录 C](#appendix-c) 
- [附录 D](#appendix-d) 
- [附录 E](#appendix-e) 
- [附录 F](#appendix-f) 
- [附录 G ](#appendix-g)
- [了解更多](#learn-more) 
- [术语表](#glossary) 


## <a name="introduction"></a>简介

作为Microsoft 365应用合规性计划的一部分，Microsoft 365认证为企业组织提供了保证和信心，即在将第三方开发人员应用/外接程序集成到Microsoft 365平台时，数据和隐私得到充分保护和保护。 将在整个Microsoft 365生态系统中指定通过验证的应用程序和加载项Microsoft 365 **认证**。 

通过参与Microsoft 365认证计划，你同意这些补充条款，并遵守适用于你与 Microsoft Corporation ("Microsoft"、"我们"、"我们"或"我们的") 参与Microsoft 365认证计划的任何附带文档。 你向我们表示并保证，你有权代表你自己、公司和/或其他实体接受这些Microsoft 365认证补充条款（如适用）。 我们可以随时更改、修改或终止这些补充条款。 在任何更改或修订后，你继续参与Microsoft 365认证计划意味着你同意新的补充条款。 如果你不同意新的补充条款，或者我们终止这些补充条款，则必须停止参与Microsoft 365认证计划。

本文档针对 ISV (独立软件供应商) 提供有关Microsoft 365认证过程、启动流程的先决条件以及 ISV 必须具备的特定安全控制措施的详细信息的信息。  可在Microsoft 365应用符合性计划[页](../overview.md)下找到Microsoft 365应用符合性计划的一般信息。 

> [!IMPORTANT]
> 目前，Microsoft 365认证适用于所有：
>* Microsoft Teams应用程序 (选项卡、机器人等) 。
>* Sharepoint Apps/Add-ins
>* Office Word、Excel、PowerPoint、Outlook、Project、OneNote)  (加载项
>* WebApps

## <a name="prerequisites"></a>先决条件

### <a name="publisher-attestation"></a>发布者证明

在获得Microsoft 365认证过程之前，必须已完成Publisher证明。 但是，可以在完成Publisher证明之前启动Microsoft 365认证过程。  

### <a name="read-the-microsoft-365-certification-specification"></a>阅读Microsoft 365认证规范

Microsoft 建议所有 ISV (独立软件供应商) 完整地阅读此Microsoft 365认证规范，以确保范围内环境和应用/外接程序满足所有适用的控件。 这将有助于确保评估过程顺利进行。

## <a name="microsoft-365-certification-specification-updates"></a>Microsoft 365认证规范更新 

预计大约每六到十二个月更新一次Microsoft 365认证规范。 这些更新可能会引入新的目标安全域和/或安全控制。 更新将基于开发人员反馈、对威胁环境的更改，以及随着程序的成熟而提高其安全基线。 

已启动Microsoft 365认证评估的 ISV 可以使用开始评估时有效的Microsoft 365认证规范版本继续评估。 所有新提交（包括年度重新认证）都需要根据发布的版本进行评估。

> [!NOTE]
> 无需遵守此Microsoft 365认证规范中的所有控件即可获得认证。 但是，对于本Microsoft 365认证规范中讨论的每个安全域，将) 不公开的阈值 (。 某些控件将归类为"**硬故障**"，这意味着缺少这些安全控件将导致评估失败。 

## <a name="certification-scope"></a>认证范围

作用 **域内环境** 是支持应用/外接程序代码交付并支持应用/外接程序可能与之通信的任何后端系统的环境。 除非存在足够的分段，并且连接到的环境无法影响作用域内环境的安全性，否则其他任何连接到的环境也将包含在范围内。 任何灾难恢复环境也需要包括在评估范围内，因为如果主环境发生任何情况，则需要这些环境才能完成该服务。  在范围内环境中使用的术语  **范围系统组件** 引用 **所有** 设备和系统。 范围内组件包括但不限于：
* Web 应用程序 () 。
* 服务器。
* 防火墙 (或等效) 。
* 开关。
* 负载均衡器。
* 虚拟基础结构。
* 云提供商 Web 管理门户 

> [!IMPORTANT]
> 范围内环境必须具有 DMZ，并且应用/外接程序的支持环境必须从内部业务系统和企业环境中分段，从而将评估活动的范围限制为仅限范围内系统。 认证分析师将在评估期间验证分段技术，并查看渗透测试报告，这些报告本应包括测试，以验证正在使用的任何分段技术的有效性。

### <a name="infrastructure-as-a-service-iaas-platform-as-a-service-paas-and-software-as-a-service-saas"></a>基础结构即服务 (IaaS) 、平台即服务 (PaaS) 和软件即服务 (SaaS)  
如果 IaaS 和/或 PaaS 用于支持正在审查的应用程序或外接程序代码传送的基础结构，则云平台提供商将负责在整个认证过程中评估的一些安全控制措施。 因此，需要通过外部合规性报告（例如 PCI DSS 合规性证明 (AOC) 、ISO27001 或 SOC 2 类型 II 报表）向认证分析师提供对安全最佳做法的独立外部验证。 

附录 F 根据以下部署类型以及应用/外接程序是否外泄 M365 数据，提供可能适用的安全控件的详细信息： 
* ISV 托管 
* IaaS 托管 
* PaaS/Serverless Hosted 
* 混合托管 
* 共享托管 

在部署 IaaS 或 PaaS 时，需要提供在这些部署类型中托管的环境的证据。

### <a name="sampling"></a>采样

针对支持认证评估的证据请求应基于范围内系统组件的示例，考虑不同的操作系统、设备的主要功能和不同的设备类型。 认证过程开始时将选择合适的示例。 下表应用作有关示例大小的指南：

|总体大小              | 示例                  |
|---------------------------- |-------------------------|
|<5|1|
|>5 & <10|2|
|>9 & <25|3|
|>24|4|

> [!NOTE]
>如果在初始示例中包含的设备之间识别出差异，则在评估期间可能会增加样本大小。 

## <a name="certification-process"></a>认证过程

在开始认证过程之前，需要已成功完成Publisher证明。 完成后，Microsoft 365认证过程将按如下所示进行：

### <a name="preparation"></a>准备
1. 导航到合作伙伴中心并查看已完成[的Publisher证明文](../docs/attestation.md)档。 如有必要，可以编辑和更新响应;但是，如果这样做，则需要重新提交证明文档以供审批。 如果提交时间超过三个月，则需要重新提交Publisher证明以供审阅和验证。 
1. 仔细阅读[Microsoft 365认证提交指南](../docs/certification-submission-guide.md)，了解需要什么。 确保能够满足Microsoft 365认证提交指南中指定的[控制要求](../docs/certification-submission-guide.md#app-certification-criteria)。
1. 在合作伙伴中心内，单击"开始认证"。 这会使你转到初始文档提交门户。 提交 [初始文档提交](../docs/certification-submission-guide.md#initial-document-submission)。 这将帮助我们根据应用的架构和处理客户数据的方式确定评估的范围。 经常查看此页面，查看是否已接受提交。

>[!NOTE]
>对于所有 Office 应用，可以参考我们的[Office应用用户指南](../docs/userguide.md)。 对于所有 WebApps，可以引用我们的 [SaaS 应用用户指南](../docs/saasuserguide.md)。

### <a name="assessment"></a>评估
1. 接受初始文档提交后，应用所需的一组安全控件将自动显示在门户中。 然后，需要为每个控件提交证据，证明控件已就位。 请记住，你将有 **60天** 的时间提交所有证据。 分析师将审查你的证据，并批准控制或请求新的或额外的证据。 经常查看此页面，查看证据是否已被接受。
### <a name="certification"></a>认证
1. 经过分析师验证提交后，你将收到认证决定的通知。 获得认证的应用将在 **AppSource** 和 **Microsoft 文档** 页面的应用程序上收到徽章。 可以 [在此](../docs/enterprise-app-certification-guide.md#program-benefits)处了解认证的全部优势。

## <a name="review-and-re-certification"></a>评审和重新认证
如果应用程序在任何时候都发生 [重大更改](../docs/certification-submission-guide.md#significant-changes) ，则需要通知我们。

还需要每年完成重新认证。 这需要针对当前环境重新验证范围内控件。 此过程最早可在认证到期前 90 天开始。 在重新认证期间，现有认证不会过期。 所有项目的重新认证将在Microsoft 365认证一周年之际到期。

如果认证未在到期日期之前续订，应用认证状态将被吊销。 所有不良、图标和关联的认证品牌都将从应用中删除，并且你将被禁止将应用作为Microsoft 365认证进行广告宣传。


> [!IMPORTANT]
> **提交时间范围：** 预计评估过程平均需要 30 天，前提是你能够频繁检查提交状态并及时答复评论和补充证据请求。 开始认证过程后，最多允许 60 天完成评估。 如果所有提交在 60 天内尚未完成，则提交将发出失败，并且该过程必须重新启动。 这些结果不会公开。


## <a name="initial-document-submission"></a>初始文档提交


初始文档提交将帮助认证分析师执行范围界定，并确定评估范围内的内容。 之后，需要提交用于进行评估的支持性文档和证据。 初始提交必须包含下面指定的信息。 有关其他指南，请参阅 [Initital Document Subnmission 指南](../docs/initialdocumentsubguide.md)。

| **DocumentationOverview&nbsp;**     |   **文档详细信息**  |
| -------------------------| -----------------------------|
|**应用/加载项说明** | 应用/外接程序的用途和功能说明。 这应该使认证分析师能够很好地了解应用/外接程序的功能及其用途
|**渗透测试报告** |在过去 12 个月内完成的渗透测试报告。 此报表必须包括支持应用/添加部署的环境以及支持应用/外接程序操作的任何其他环境。 **注意：** 如果不进行年度渗透测试，可以选择通过认证过程完成。|
|**体系结构图**|一个逻辑体系结构图，表示应用/外接程序的支持基础结构的高级概述。 这必须包括 **支持** 应用/外接程序的所有托管环境和支持基础结构。 此关系图必须描述环境中所有不同的支持系统组件，以帮助认证分析师了解范围内的系统，并帮助确定采样。 另请指示使用的托管环境类型;ISV 托管、IaaS、PaaS 或混合。 **注意：** 在使用 SaaS 的位置，请指示用于在环境中提供支持服务的各种 SaaS 服务。|
|**公共占用空间** | 详细介绍支持基础结构使用 **的所有** 公共 IP 地址和 URL。 这必须包括分配给环境的完整可路由 IP 范围，除非已实施足够的分段以拆分使用范围 (需要充分的分段证据) |
|**数据流图** |Flow关系图，详细说明以下内容：
||&#x2713; M365 数据流向应用/加载项 (（包括 [EUII](#euii) 和 [OII](#oii) ) ）。|
||&#x2713;支持基础结构内的 M365 数据流 (适用) |
||&#x2713;关系图，其中突出显示了存储数据的位置和内容、如何将数据传递给外部第三方 (包括第三方) 的详细信息，以及如何通过开放/公共网络和静态传输数据。|
|**API 终结点详细信息**| 应用使用的所有 API 终结点的完整列表。 若要帮助了解环境范围，请在环境中提供 API 终结点位置。                                
|**Microsoft API 权限**| 提供文档，详细介绍 **所使用的所有** Microsoft API，以及为应用/外接程序请求的权限，以及请求的权限的理由|
|**数据存储类型** |描述以下内容的数据存储和处理文档：|
||&#x2713;接收和存储客户 M365 Data [EUII](#euii) 和 [OII](#oii) 的程度|
||&#x2713;数据保留期。|
||&#x2713;捕获客户 M365 数据的原因。|
||&#x2713;存储客户 M365 数据 (应包含在上面提供的数据流图) 中。|
|**合规性确认**|Publisher证明提交中包含的外部安全框架的支持文档，或在审查Microsoft 365认证控制措施时要考虑的文档。 目前支持以下三项：|
||&#x2713; AOC) 的符合性 ([PCI DSS](#pci-dss) 证明。|
||&#x2713; [SOC 2](#soc-2) 类型 I/Type II 报表。|
||&#x2713; [ISMSIEC](#isms) /  - 1S0/IEC 27001 适用性声明 (SoA) 和认证。[](#iec)|
|**Web 依赖项**|列出应用/加载项与当前正在运行的版本一起使用的所有依赖项的文档。|
|**软件清单**|最新的软件清单，其中包括在范围内环境中使用的所有软件以及版本。|
|**硬件清单**| 支持基础结构使用的最新硬件清单。 这将用于帮助在执行评估阶段时进行采样。 如果环境包括 PaaS，请提供所使用的服务的详细信息。|

## <a name="evidence-collection-and-assessment-activities"></a>证据收集和评估活动

认证分析师需要查看定义示例集中所有系统组件的证据。 支持评估过程所需的证据类型包括以下任一或全部：

**证据收集**

* 初始文档，在上面的 ["初始文档提交](#initial-document-submission) "部分中突出显示 
* 策略文档 
* 处理文档 
* 系统配置设置 
* 更改票证 
* 更改控制记录 
* 系统报表

将使用各种方法收集完成评估过程所需的证据。  此证据收集可能采用以下形式： 
* 文档 
* 屏幕截图 
* 采访 
* 屏幕共享 

所用的证据收集技术将在评估过程中确定。 有关提交中所需的证据类型的具体示例，请参 [阅示例证据指南](../docs/certification-sample-evidence-guide.md)。

**评估活动**

认证分析师将审查你提供的证据，以确定你是否已充分满足此Microsoft 365认证规范中的控制。 

在可能的情况下，为了减少完成评估所需的时间，请提前提供《 [信息文档提交](#initial-document-submission) 》中详述的任何或全部文档。

认证分析师将首先审查初始文档提交提供的证据和Publisher证明信息，以确定适当的调查线、采样大小，以及需要根据上述详细信息获取进一步的证据。  认证分析师将分析收集的所有信息，以得出有关如何以及是否满足此Microsoft 365认证规范中的控制措施的结论。 

## <a name="app-certification-criteria"></a>应用认证条件

你的应用、支持基础结构和支持性文档将跨以下安全域进行评估：

1. [**应用程序安全**](#application-security)
1. [**操作安全性/安全部署**](#operational-security)
1. [**数据处理安全和隐私**](#data-handling-security-and-privacy)

这些安全域中的每一个都包含特定的关键控件，其中包括一个或多个特定要求，这些要求将在评估过程中进行评估。 为了确保Microsoft 365认证对所有大小的开发人员都是非独占的，请使用评分系统评估每个安全域，以确定每个域的总体分数。 每个Microsoft 365认证控件的分数分配在 1 (低) 和 3 (高) 之间，具体取决于该控件未达到的感知风险。 每个安全域都有最小百分比标记，被视为传递。 此规范的某些元素包括一些自动故障条件：

- API 权限不遵循 PoLP)  (最低特权原则。  
- 不需要渗透测试报告。
- 无反恶意软件防御
- 多重身份验证不用于保护管理访问。  
- 无修补进程。  
- 没有合适的 [GDPR](#gdpr) 隐私通知。  

## <a name="application-security"></a>应用程序安全

应用程序安全域侧重于以下三个方面： 
* GraphAPI 权限验证 
* 外部连接检查
* 应用程序安全测试 

### <a name="graphapi-permission-validation"></a>GraphAPI 权限验证

执行 GraphAPI 权限验证是为了验证应用/加载项不请求过多的允许权限。 这是通过手动检查请求的权限来实现的。 认证分析师将对Publisher证明提交进行交叉引用这些检查，并评估请求的访问级别，以确保满足"最低特权"做法。 如果认证分析师认为这些"最低特权"做法没有得到满足，认证分析师将与你进行公开讨论，以验证所请求权限的业务理由。 在此评审中找到的Publisher证明提交的任何差异也会得到反馈，以便可以更新Publisher证明。 

### <a name="external-connectivity-checks"></a>外部连接检查

作为评估的一部分，分析师将轻松演练应用程序功能，以识别 M365 外部的连接。  在评估期间，将标记和讨论未标识为 Microsoft 或与服务的直接连接的任何连接。

### <a name="application-security-testing"></a>应用程序安全测试

充分审查与应用/外接程序和支持环境相关的风险对于为客户提供应用/外接程序安全性保证至关重要。 如果应用程序与 Microsoft 未发布的任何服务有任何连接，则必须以渗透测试的形式进行应用程序安全测试。 如果应用在不连接到任何非 Microsoft 服务或后端的情况下独立运行，则不需要进行渗透测试。


**渗透测试范围**

渗透测试活动 **必须在** 支持应用/外接程序 (部署的实时生产环境中进行，例如;其中托管的应用/外接程序代码通常是清单文件) 中的资源，以及支持应用/外接程序 (操作的任何其他环境，例如;如果应用/外接程序与Microsoft 365) 以外的其他 Web 应用程序进行会话。  定义范围时，需要注意确保所有渗透测试活动中也包含任何可能影响范围内环境安全性的"连接到"系统或环境。 

如果使用技术将范围内环境与其他环境进行分段，则渗透测试活动必须验证上述分段技术的有效性。 这必须在渗透测试报告中进行详细介绍。 

将审查渗透测试报告，以确保没有符合以下控件中所述 **的自动故障条件** 的漏洞。
 
**渗透测试要求**

|**条件类型**|**渗透测试控件**|
| -------------------------|-----------------------------|
|**常规条件**| **Controls**|
|| 应用程序和基础结构渗透测试 **必须** 每年 (每 12 个月进行一次，) 由一家信誉良好的独立公司进行。 |
|| **必须** 根据记录的修补过程，在渗透测试结束后的一个月内或更早地完成已识别的关键和高风险漏洞的修正。 |
|| IP 地址、URL、API 终结点等 (完全外部占用空间) 必须包含在渗透测试范围内，并且必须在渗透测试报告中记录。 |
|| Web 应用程序渗透测试必须包括所有漏洞类;例如，最新的 OWASP 前 10 名或 SANS 前 25 名 CWE。 |
|| 不需要重新测试渗透测试公司识别的漏洞 ， 修正和自我审查就足够了， 但必须提供足够的证据来证明在评估期间 **必须** 提供足够的补救措施。|
|**自动故障条件：**|**Controls**|
|| 存在不受支持的操作系统。 |
|| 存在默认、可枚举或可猜测的管理帐户。|
|| 存在SQL注入风险。|
|| 存在跨站点脚本。|
|| 存在目录遍历 (文件路径) 漏洞。|
|| 存在 HTTP 漏洞，例如标头响应拆分、请求走私和反序列攻击。|
|| 源代码披露 (包括 [LFI](#lfi)) 。|
|| CVSS 修补程序管理准则定义的任何关键分数或高分。|
|| 任何重大技术漏洞，很容易被利用来破坏大量的 EUII 或 OUI。|






> [!IMPORTANT]
>报表必须能够提供足够的保证，以便能够演示应用程序安全测试规范部分中详述的所有内容。


**免费渗透测试要求和规则**

- 对于当前不进行渗透测试的 ISV，可以免费进行渗透测试Microsoft 365认证。 Microsoft 将安排并支付长达 12 天的手动测试的渗透测试费用。 渗透测试成本是根据测试环境所需的天数计算的。 任何超过 12 天的测试费用都将由 ISV 负责。 
- 在进行渗透测试之前，需要 ISV 提交证据并获得范围内 50% 的控件的批准。 若要开始，只需填写初始文档提交，并选择将渗透测试作为评估的一部分进行。 完成 50% 的控件后，系统会联系你来确定渗透测试的范围和计划。
- 完成笔测试后颁发的报表将在完成认证后提供给 ISV。 此报表和Microsoft 365认证可用于向潜在客户显示你的环境是安全的。
- ISV 还将负责证明在颁发认证之前已修正渗透测试中标识的漏洞，但不需要生成干净的报告。

安排渗透测试后，ISV 负责与重新计划和取消相关的费用，如下所示：

| **重新计划费用时间刻度** | **应付款比例** |
|------------------|------------------------|
| 在计划开始日期之前 30 多天收到重新计划请求。 | 0% 应付款 |
| 在计划开始日期之前 8 到 30 天收到重新计划请求。 | 25% 应付款 |
| 重新计划在计划开始日期之前 2 到 7 天内收到的请求，并确定重新预订日期。| 50% 应付款 |
| 重新计划在开始日期之前不到 2 天收到的请求。 | 100% 应付款 |

| **取消费用时间刻度** | **应付款比例** |
|------------------|------------------------|
| 取消请求在计划开始日期之前 30 天以上收到。 | 25% 应付款 |
| 取消请求在计划开始日期之前 8 到 30 天收到。 | 50% 应付款 |
| 在计划开始日期之前的 7 天内收到取消请求。 | 90% 应付款 |

## <a name="operational-security"></a>操作安全性

此域衡量应用的支持基础结构和部署流程与安全最佳做法的对齐方式。

### <a name="controls"></a>控件

|**控件系列**| **Controls**|
| ------------------------|------------------------------ |
| **恶意软件保护 - 防病毒**|提供管理防病毒做法和过程的策略文档。|
||提供可证明的证据，证明防病毒软件正在所有采样的系统组件中运行。|
||提供可证明的证据，证明防病毒签名在) 1天内 (的所有环境中都是最新的。|
||提供可证明的证据，证明防病毒已配置为对所有采样的系统组件执行访问扫描或定期扫描。 注意：如果未启用访问扫描，则必须启用最少的每日扫描和警报。|
||提供可证明的证据，证明防病毒已配置为自动阻止所有采样系统组件中的恶意软件或隔离和警报。|
|**应用程序控件**：仅当未使用传统反恶意软件时才需要|提供可证明的证据，证明应用程序在部署前已获得批准。|
||提供可证明的证据，证明存在并维护了具有业务理由的已批准应用程序的完整列表。|
||提供相关支持文档，详细说明应用程序控制软件配置为满足特定的应用程序控制机制。  (示例：允许的列表：sample1、sample3、代码签名) |
||提供可证明的证据，证明应用程序控件是根据所有采样系统组件中所述进行配置的。|
|**修补程序管理 - 风险排名**| 提供策略文档，用于控制如何识别和分配新的安全漏洞并分配风险分数。|
||提供如何识别新安全漏洞的证据。|
||提供证据，证明所有漏洞在标识后都分配了风险排名。|
|**修补管理 - 修补**|提供有关修补范围内系统组件的策略文档，其中包括针对关键、高和中等风险漏洞的适当最小修补时间范围;并解除任何不受支持的操作系统和软件的授权。|
||提供可证明的证据，证明所有采样的系统组件正在修补。|
||提供可证明的证据，证明环境中未使用任何不受支持的操作系统和软件组件。|
|**漏洞扫描**|提供季度基础结构和 Web 应用程序漏洞扫描报告。 需要针对整个公共占用情况进行扫描， (IP 地址和 URL) 和内部 IP 范围。|
||提供可证明的证据，证明根据记录的修补时间范围修补了在漏洞扫描期间识别的漏洞的修正。|
|**防火墙**|提供管理防火墙管理做法和过程的策略文档。|
||提供明显的证据，证明在安装到生产环境中之前，任何默认管理凭据都已更改。|
||提供明显的证据，证明防火墙安装在范围内环境的边界上，并在外围网络 (（也称为 DMZ、非军事区）和筛选的子网之间安装，) 和内部受信任的网络。|
||提供明显的证据，证明所有公共访问在非军事区 (DMZ) 中终止。|
||提供明显的证据，证明通过防火墙允许的所有流量都经过审批过程。|
||提供明显的证据，证明防火墙规则基础配置为删除未显式定义的流量。|
||提供明显的证据，证明防火墙仅支持所有非控制台管理接口上的强加密。|
||提供可证明的证据，证明你至少每 6 个月执行一次防火墙规则评审。|
|**Web 应用程序防火墙 (WAF)  (可选)**：将因满足以下控件而获得额外额度。|提供可证明的证据，证明Web 应用程序防火墙 (WAF) 配置为主动监视、警报和阻止恶意流量。|
||提供可证明的证据，证明 WAF 支持 SSL 卸载。|
||根据 OWASP 核心规则集 (3.0 或 3.1) 提供可证明的证据，证明 WAF 可以防范某些或以下所有类别的漏洞)  |
|**更改控件**|提供管理更改控制过程的策略文档。|
||提供可证明的证据，证明开发和测试环境强制将职责与生产环境分离。|
||提供可证明的证据，证明在开发或测试环境中未使用敏感生产数据。|
||提供可证明的证据，证明记录的更改请求包含更改的影响、回退过程的详细信息以及要执行的测试。|
||提供可证明的证据，证明更改请求经过授权和注销过程。|
|**安全软件开发/部署**| 提供支持安全软件开发和部署的策略和过程，包括针对常见漏洞类（例如 OWASP 前 10 名或 SANS 前 25 CWE）的安全编码最佳做法指南。|
|| 提供可证明的证据，证明代码更改由第二个审阅者进行审阅和授权过程。|
|| 提供可证明的证据，证明开发人员每年接受安全软件开发培训。|
|| 提供可证明的证据，证明代码存储库通过多重身份验证 (MFA) 进行保护。|
|| 提供可证明的证据，证明为保护代码存储库提供了访问控制措施。
|**帐户管理**| 提供管理帐户管理做法和过程的策略文档。
||提供可证明的证据，证明在采样的系统组件中禁用、删除或更改默认凭据。|
||提供可证明的证据，证明帐户创建、修改和删除经过了既定的审批过程。|
||提供可证明的证据，证明已制定一个过程来禁用或删除 3 个月内未使用的帐户。|
||提供可证明的证据，证明已实施强密码策略或其他适当的缓解措施来保护用户凭据。  以下应用作最低准则：最小密码长度为 8 个字符，帐户锁定阈值不超过 10 次，密码历史记录至少为 5 个密码，强制使用强密码|
||提供可证明的证据，证明向所有用户颁发了唯一的用户帐户。|
||提供可证明的证据，证明环境中遵循了最低特权原则。|
||提供可证明的证据，证明已制定一个过程来保护或强化服务帐户，并且正在遵循该过程。|
||提供可证明的证据，证明 MFA 是为所有远程访问连接和所有非控制台管理接口配置的。|
||提供可证明的证据，证明为所有远程访问连接和所有非控制台管理接口（包括对任何代码存储库和云管理接口的访问）配置了强加密。|
||提供可证明的证据，证明 MFA 用于保护管理门户，用于管理和维护所有公共域名服务 (DNS) 记录。|
|**入侵检测和预防 (可选) ：** 将因满足以下控件而获得额外额度|提供可证明的证据，证明入侵检测和预防系统 (IDPS) 部署在范围内环境的外围。|
||提供可证明的证据，证明 IDPS 签名在) 的 24 小时内保持当前 (。|
||提供可证明的证据，证明 IDPS 配置为支持 TLS 检查所有传入的 Web 流量。|
||提供可证明的证据，证明 IDPS 配置为监视所有入站流量流。|
||提供可证明的证据，证明 IDPS 配置为监视所有出站流量流。|
|**安全事件日志记录** |为管理安全事件日志记录的最佳做法和过程提供策略文档。|
|| 提供可证明的证据，表明在所有采样的系统组件中设置了安全事件日志记录以记录以下事件：用户对系统组件和应用程序的访问、高特权用户执行的所有操作、无效的逻辑访问尝试特权帐户创建或修改、事件日志篡改、禁用安全工具 (（如反恶意软件或事件日志记录) ） 反恶意软件日志记录 (（如更新、恶意软件检测和扫描失败）) .、IDPS 和 WAF 事件（如果已配置）|
||提供可证明的证据，证明记录的安全事件包含以下最低信息：用户、事件类型、日期和时间、成功或失败指示器、标识受影响系统的标签|
||提供可证明的证据，证明所有采样的系统组件都按时间同步到同一主服务器和辅助服务器。|
||当面向公众的系统使用安全事件日志时，请提供可证明的证据，这些日志将发送到不在外围网络中的集中日志记录解决方案。|
||提供明显的证据来证明集中日志记录解决方案受到保护，防止未经授权篡改日志记录数据。|
||提供可证明的证据，证明至少 30 天的安全事件日志记录数据立即可用，并保留 90 天的安全事件日志。|
|**查看 (日志数据)** |提供管理日志评审做法和过程的策略文档。|
||提供可证明的证据，证明日志每天由人工或自动化工具进行审查，以确定潜在的安全事件。|
||提供可证明的证据，证明调查和修正了潜在的安全事件和异常。|
|**提醒** | 提供管理安全事件警报做法和过程的策略文档。|
|| 提供明显的证据，证明针对以下类型的安全事件触发了警报以进行即时会审：特权帐户创建或修改、病毒或恶意软件事件、事件日志篡改、IDPS 或 WAF 事件|
||提供明显证据表明，工作人员每天都可以响应安全警报。|
|**风险管理**|提供可证明的证据，证明已建立正式的信息安全风险管理过程。|
||提供证明性的证据，证明每年至少进行一次正式的风险评估。|
||提供可证明的信息安全风险评估包括威胁、漏洞或等效性的证据。|
||提供可证明的证据，证明信息安全风险评估包括影响、可能性风险矩阵或等效项。|
||提供可证明的信息安全风险评估包括风险寄存器和治疗计划的证据。|
|**事件响应**|提供 IRP)  (安全事件响应计划。|
||提供明显的证据，证明安全 IRP 包括有案可查的通信流程，以确保及时通知主要利益干系人，如支付品牌和收购者、监管机构、监管机构、董事和客户。|
||提供明显的证据，证明事件响应团队的所有成员都已完成年度训练或表顶练习。|
||提供可证明的证据，以显示根据经验教训或组织更改更新安全 IRP。|

## <a name="data-handling-security-and-privacy"></a>数据处理安全和隐私

应用程序用户、中介服务和 ISV 系统之间的传输数据需要通过支持最低 TLS v1.1 的 TLS 连接进行加密保护。*请参阅*[**附录 A**](#appendix-a)。

在应用程序检索和存储 M365 数据时，需要实现遵循 [**附录 B**](#appendix-a) 中定义的规范的数据存储加密方案。

### <a name="controls"></a>控件

|**控件系列**| **Controls** |
| -----------------------|-------------------------------- |
|**传输中的数据**| 提供可证明的证据，证明 TLS 配置满足或超过 [TLS 配置文件配置要求](../docs/certification-submission-guide.md#appendix-a)中的加密要求|
||提供可证明的证据，证明在处理 Web 请求的所有面向公众的服务中禁用了 TLS 压缩。|
||提供可证明的证据，证明 TLS HTTP 严格的传输安全已启用并配置为在所有站点中>= 15552000。|
|**静态数据**| 使用加密算法（例如 AES、Blowfish、TDES 和 128 位和 256 位的加密密钥大小）以内联方式加密静态数据，这提供了可证明的证据。|
||提供可证明的证据，证明哈希函数或消息身份验证 (HMAC-SHA1) 仅用于使用加密配置文件要求内联保护静态数据。|
||提供显示所有存储数据的清单，包括用于保护数据的存储位置和加密。|
|**数据保留和处置**|提供可证明的证据，证明已正式建立已批准和记录的数据保留期。|
||提供可证明的证据，证明保留的数据与定义的保留期匹配。|
||提供可证明的证据，证明进程已就绪，可在数据保留期后安全删除数据。|
|**数据访问管理**|提供有权访问数据或加密密钥的所有个人的列表，包括业务理由。|
||提供可证明的证据，证明有权访问数据或加密密钥的采样人员已正式获得批准，并详细说明了其工作功能所需的特权。|
||提供可证明的证据，证明有权访问数据或加密密钥的采样个人仅具有审批中包含的权限。|
||提供与客户数据共享的所有第三方的列表。|
||提供可证明的证据，证明所有使用客户数据的第三方都有共享协议。|
|**GDPR** (（如果适用）) |  (SAR) 过程提供记录的主题访问请求，并提供证明数据主体能够提高 SAR 的证据。|
||提供可证明的证据，证明你能够在响应 SAR 时识别数据主体数据的所有位置。|
||你维护一个隐私通知，其中应包含公司详细信息 (名称、地址等。) 。|
||你维护隐私通知，该通知应说明正在处理的个人数据的类型。|
||你维护隐私通知，该通知应说明处理个人数据的合法性|
||你维护一个隐私通知，其中详细说明了数据主体的权利：知情权、数据主体的访问权、擦除权、处理限制权、数据可移植性权、对象权、与自动化决策相关的权限，包括分析。|
|| 你维护隐私通知，该通知应说明个人数据的保留时间。|

## <a name="optional-external-compliance-frameworks-review"></a>可选的外部符合性框架评审

尽管这不是必需的，但如果当前符合 ISO 27001、PCI DSS 或 SOC2，则可以选择使用这些认证来满足某些Microsoft 365认证控制。 认证分析师将尝试将现有外部安全框架与Microsoft 365认证规范保持一致。 但是，如果支持文档无法保证Microsoft 365认证控制作为外部安全框架审核/评估的一部分进行评估，则需要提供上述控件的更多证据。

文档必须充分证明，Microsoft 365认证的范围内环境已包含在这些外部安全框架的范围内。 通过接受信誉良好的外部第三方公司进行有效认证的证据，将实现对这些安全框架的验证。 这些信誉良好的公司必须是有关合规计划的国际认证机构的成员。 请参阅针对 PCI DSS 的 QSA)  (ISO 27001 和合格安全评估器的 ISO 认证和符合性标准。

下表重点介绍了认证分析师在此验证过程中所需的外部框架和文档：

| **Standard** | **要求** |
| ----- | ----- |
| **[ISO 27001](#iso-27001)** | 需要公开版本 **的适用性** 声明 (SOA) 和颁发的 ISO 27001 证书副本。  SOA 汇总了你对 114 个信息安全控件中每个控件的位置，并将用于确定是否排除 ISO 27001 证书中未令人满意地详细介绍的控件。 如果无法通过查看面向公众的 SOA 版本来确定这一点，则如果 ISO 27001 将用于验证某些Microsoft 365认证规范控制，则分析师可能需要访问完整的 SOA。  除了验证 ISO 27001 评估活动的范围外，分析师还将确认审核公司的有效性，如上所述。|
|**[PCI DSS](#pci-dss)**| 必须提供有效的 **合规性级别 1 证明** (AOC) 文档，明确标识范围内的应用程序和系统组件。  不会接受自我评估 **AOC 作为** 满足安全最佳做法的证据。 AOC 将用于确定哪些Microsoft 365认证规范控件已作为 PCI DSS 评估的一部分进行评估和确认。|
|**[SOC 2](#soc-2)**|**SOC 2 (类型 I 或 II 类型)** 报告必须是在过去 15 个月内发布的当前 (，声明的时间段在过去 27 个月内启动) 用作符合本Microsoft 365认证规范中任何评估控制措施的证据。|

如果外部安全框架已包含在Publisher证明中，则认证分析师需要在Microsoft 365认证评估中检查这些安全合规性框架的有效性。

|**框架** | **其他注意事项** |
|-------------- | --------------------|
|ISO 27001| [**附录 C**](#appendix-c)：证据收集 - ISO 27001 的增量。|
|PCI DSS | [**附录 D**](#appendix-d)：证据收集 - PCI DSS 的增量。|
|SOC 2| [**附录 E**](#appendix-e)：证据收集 - SOC 2 的增量。|

> [!NOTE]
> 虽然上述外部安全标准/框架可以作为证据提交，以满足一些Microsoft 365认证控制，但通过Microsoft 365认证并不意味着你将成功通过针对这些标准/框架的审核。 Microsoft 365认证规范只是这些安全标准/框架的一小部分，使 Microsoft 能够根据安全状况获得一定程度的保证。


### <a name="requirements-to-use-external-compliance-frameworks"></a>使用外部合规性框架的要求

&#x2713;应用/外接程序支持环境 **以及** 任何支持的业务流程 **都必须** 包含在任何受支持的外部安全合规性框架范围内，并且必须在提供的文档中明确说明。

&#x2713;支持的外部安全符合性框架 **必须** 是最新的，即在过去 12 个月内 (或在 15 个月内（如果目前正在进行重新评估，并且可以) 提供证据）。

&#x2713;受支持的外部安全合规性框架 **必须** 由独立认可的公司执行。

## <a name="appendix-a"></a>附录 A

### <a name="tls-profile-configuration-requirements"></a>TLS 配置文件配置要求

) 建议至少使用 TLS v1.1 (TLS v1.2+ 或其他适用协议来保护所有网络流量（无论是在虚拟网络、云服务还是数据中心内）。 此要求的例外情况包括：

* **HTTP 到 HTTPS 重定向**。 应用可以通过 HTTP 响应以将客户端重定向到 HTTPS，但响应不得包含任何敏感数据 (Cookie、标头、内容) 。 除了重定向到 HTTPS 和响应运行状况探测之外，不允许其他 HTTP 响应。 请参阅下文。
* **运行状况探测**。 **仅当** 检查方不支持 HTTPS 运行状况探测时，你的应用才能通过 HTTP 响应运行状况探测。
* **证书访问**。 允许通过 HTTP 访问 CRL、OCSP 和 AIA 终结点，以便进行证书验证和吊销检查。
* **本地通信**。 应用可以将 HTTP (或其他不受保护的协议) 用于不离开操作系统的通信，例如。 g. 连接到 localhost 上公开的 Web 服务器终结点。

**必须** 禁用 TLS 压缩。

## <a name="appendix-b"></a>附录 B

### <a name="encryption-profile-configuration-requirements"></a>加密配置文件配置要求

仅允许加密基元和参数，如下所示：

### <a name="symmetric-cryptography"></a>对称加密

**加密**

&emsp;&#x2713;仅允许 AES、BitLocker、Blowfish 或 TDES。 >=128 支持的任何密钥长度都允许 (128、192 和 256 位) ， (建议) 使用 256 位密钥。

&emsp;&#x2713;仅允许 CBC 模式。 每个加密操作都必须使用新鲜随机生成的初始化向量 (IV) 。

&emsp;&#x2713; **不允许** 使用流密码（如 RC4）。

**哈希函数**

&emsp;&#x2713;所有新代码都必须使用 SHA-256、SHA-384 或 SHA-512 (统称为 SHA-2) 。 输出可能截断为不少于 128 位

&emsp;&#x2713; SHA-1 只能出于兼容性原因而使用。

&emsp;&#x2713;不允许使用 MD5、MD4、MD2 和其他哈希函数，即使是非加密应用程序。

**消息身份验证**

&emsp;&#x2713;所有新代码都必须将 HMAC 与已批准的哈希函数之一结合使用。 HMAC 的输出可能会截断为不少于 128 位。

&emsp;&#x2713; HMAC-SHA1 只能出于兼容性原因使用。

&emsp;&#x2713; HMAC 密钥必须至少为 128 位。 建议使用 256 位密钥。

### <a name="asymmetric-algorithms"></a>非对称算法

**加密**

&emsp;&#x2713;允许 RSA。 密钥 **必须** 至少为 2048 位，必须使用 OAEP 填充。 仅出于兼容性原因才允许使用 PKCS 填充。

**签名**

&emsp;&#x2713;允许 RSA。 密钥 **必须** 至少为 2048 位，必须使用 PSS 填充。 仅出于兼容性原因才允许使用 PKCS 填充。

&emsp;&#x2713;允许 ECDSA。 密钥 **必须** 至少为 256 位。 必须使用 NIST P-256、P-384 或 P-521 曲线。

**密钥Exchange**

&emsp;&#x2713; ECDH 是允许的。 密钥 **必须** 至少为 256 位。 必须使用 NIST P-256、P-384 或 P-521 曲线。

&emsp;&#x2713; ECDH 是允许的。 密钥 **必须** 至少为 256 位。 必须使用 NIST P-256、P-384 或 P-521 曲线。

## <a name="appendix-c"></a>附录 C

### <a name="evidence-collection--delta-for-iso-27001"></a>证据收集 - ISO 27001 的 Delta

如果已达到 ISO27001 符合性，则以下增量的 (差距) 不完全由 ISO 27001 涵盖，至少需要作为此Microsoft 365认证的一部分进行审查。

> [!NOTE]
> 作为Microsoft 365认证评估的一部分，认证分析师将确定任何映射的 ISO 27001 控件是否未作为 ISO 27001 评估的一部分包括在内，还可以决定对已找到包含的控件进行采样，以提供进一步的保证。 ISO 27001 中缺少的任何要求都需要包含在Microsoft 365认证评估活动中。

**恶意软件保护 - 防病毒**

如果使用应用程序控件实施恶意软件保护并在 ISO 27001 报表中得到证明，则无需进一步调查。 如果没有应用程序控制，认证分析师将需要识别和评估应用程序控制机制的证据，以防止环境中的恶意软件爆炸。 这需要执行以下操作：

* 演示防病毒软件正在所有采样的系统组件中运行。

* 演示如何跨所有采样的系统组件配置防病毒，以便自动阻止恶意软件、隔离&警报或发出警报。

* **必须** 将防病毒软件配置为记录所有活动。

**修补程序管理 - 修补**

由于 ISO 27001 审核未专门评估此类别，因此需要执行以下操作：

* 供应商不再支持软件组件和操作系统不得在环境中使用。 必须制定支持策略，以确保将不受支持的软件组件/操作系统从环境中删除，并制定一个过程来确定软件组件何时过期

**漏洞扫描**  

由于 ISO 27001 审核未专门评估此类别，因此需要执行以下操作：

* 演示每季度进行一次内部和外部漏洞扫描。

* 根据风险排名和规范，确认已针对漏洞修正提供了支持文档，如下所示：
 
 &#x2713;根据内部扫描的风险排名修复所有关键和高风险问题。
 
 &#x2713;根据外部扫描的风险排名修复所有关键、高和中等风险问题。
 
 &#x2713;演示修正是按照记录的漏洞修正策略进行的。

**防火墙 - 防火墙 (或等效技术)**

由于 ISO 27001 审核未专门评估此类别，因此需要执行以下操作：

* 演示是否在范围内环境的边界上安装了防火墙。

* 演示如何在 DMZ 和受信任的网络之间安装防火墙。

*   演示所有公共访问在 DMZ 中终止。

*   演示在安装到实时环境中之前会更改默认管理凭据。

*   演示所有允许的流量通过防火墙 () 通过授权过程，从而生成具有业务理由的所有流量的文档。

*   演示所有防火墙配置为删除未显式定义的流量。

*   演示防火墙仅支持所有非控制台管理接口上的强加密。

*   演示向 Internet 公开的防火墙的非控制台管理接口支持 MFA。

*   演示防火墙规则评审至少每 6 个月进行一次

**防火墙 – WAF)  (Web 应用程序防火墙**  

如果部署 WAF 来帮助防范应用程序可能暴露的无数 Web 应用程序威胁和漏洞，则会提供额外的信用额度。 如果存在 WAF 或类似项，则需要执行以下操作：

* 演示 WAF 是在主动防御模式下配置的，或者通过警报监视更多。

* 演示 WAF 配置为支持 SSL 卸载。

* 根据 OWASP 核心规则集 (3.0 或 3.1) 进行配置，以防范以下大多数攻击类型：

&#x2713;协议和编码问题。

&#x2713;头注入、请求走私和响应拆分。

&#x2713;文件和路径遍历攻击。

&#x2713;远程文件包含 (RFI) 攻击。

&#x2713;远程代码执行攻击。

&#x2713; PHP 注入攻击。

&#x2713;跨站点脚本攻击。

&#x2713; SQL注入攻击。

&#x2713;会话修复攻击。

**更改控件**

由于 ISO 27001 审核未专门评估更改请求过程的某些元素，因此需要执行以下操作：

* 演示更改请求具有以下详细信息：

&#x2713;记录的影响。

&#x2713;要进行哪些功能测试的详细信息。

&#x2713;任何回退过程的详细信息。

* 演示在完成更改后进行功能测试。

* 演示在进行功能测试后会注销更改请求。

**帐户管理**

由于 ISO 27001 审核未专门评估帐户管理流程的某些元素，因此需要执行以下操作：

*   演示如何实现&#x2713;来缓解重播攻击 (例如 MFA、Kerberos) 。
*   演示如何禁用或删除 3 个月内未使用的帐户。
*   必须将&#x2713;或其他适当的缓解措施配置为保护用户凭据。 以下最小密码策略应用作准则：

&#x2713;最小密码长度为 8 个字符。

&#x2713;帐户锁定阈值不超过 10 次。
 
&#x2713;至少五个密码的密码历史记录。
 
&#x2713;强制使用强密码。
 
*   演示是否为所有远程访问解决方案配置了 MFA。

*   演示是否在所有远程访问解决方案上配置了强加密。

*   如果公共 DNS 的管理不在范围内环境之外，则必须将所有能够进行 DNS 修改的用户帐户配置为使用 MFA。

**入侵检测和预防 (可选)**

由于 ISO 27001 审核未专门评估入侵检测和预防服务 (IDPS) 流程的某些元素，因此需要执行以下操作：

*   **应** 在支持环境的外围部署 IDPS。

*   **IDPS 签名应** 在过去一天内保持最新状态。

*   **应** 为 TLS 检查配置 IDPS。

*   **应** 为所有入站和出站流量配置 IDPS。

*   **应** 为 IDPS 配置警报。

**事件日志记录**

由于 ISO 27001 审核未专门评估安全事件日志记录过程的某些元素，因此需要执行以下操作：

* 演示面向公众的系统正在将日志记录到不在 DMZ 中的集中式日志记录解决方案。

* 演示如何立即提供至少 30 天的日志记录数据，并保留 90 天。

**查看 (日志记录数据)**

由于 ISO 27001 审核未专门评估此类别的某些元素，因此需要执行以下操作：

*   演示如何进行每日日志评审，以及如何识别异常和异常，以显示如何处理这些异常和异常。

**提醒**

由于 ISO 27001 审核未专门评估此类别的某些元素，因此需要执行以下操作：

* 演示如何将安全事件配置为触发警报以进行即时会审。

* 演示如何在 24/7 中提供员工来响应安全警报。

**风险管理**

由于 ISO 27001 审核没有专门评估风险评估过程的某些元素，因此需要执行以下操作：

* 演示是否已建立正式的风险管理流程。

**事件响应**

由于 ISO 27001 审核未专门评估事件响应策略和流程的某些元素，因此需要执行以下操作：

*   演示事件响应计划/过程包括：

&#x2713;预期威胁模型的特定响应过程。

&#x2713;事件处理功能与 NIST 网络安全框架一致， (标识、保护、检测、响应、恢复) 。
 
&#x2713; IRP 涵盖范围内系统。
 
&#x2713;事件响应团队的年度培训。

## <a name="appendix-d"></a>附录 D

### <a name="evidence-collection--deltas-for-pci-dss"></a>证据收集 - PCI DSS 的增量

如果已实现 PCI DSS 符合性，则至少需要在本Microsoft 365认证中审查以下增量的 (差距) 不完全由 PCI DSS 涵盖。

> [!NOTE]
> 作为Microsoft 365认证评估的一部分，认证分析师将确定是否未将任何映射的 PCI DSS 控件作为 PCI DSS 评估的一部分包括在内，还可以决定对已找到包含的控件进行采样，以提供进一步的保证。 PCI DSS 中缺少的任何要求都需要包含在Microsoft 365认证评估活动中。

**恶意软件保护 - 应用程序控制**

如果恶意软件保护是通过使用防病毒的，并在 PCI DSS 报表中得到证明，则无需进一步调查。 如果没有防病毒措施，认证分析师将需要识别和评估应用程序控制机制的证据，以防止环境中的恶意软件爆炸。 这需要执行以下操作： 

*   演示应用程序审批的执行方式，并确认已完成此操作。

*   演示是否存在具有业务理由的已批准应用程序的完整列表。

*   提供了或演示支持文档，详细介绍了如何将应用程序控制软件配置为满足特定的应用程序控制机制， (即允许列表、代码签名等) 。

*   证明在所有采样的系统组件中，应用程序控件都是按所述配置的。

**修补程序管理 - 风险排名**

由于 PCI DSS 审核未专门评估此类别，因此需要执行以下操作：

* 演示如何对漏洞进行风险排名。

**漏洞扫描**

由于 PCI DSS 审核未专门评估此类别，因此需要执行以下操作：

* 证明修正是按照记录的漏洞修正策略进行的。

**防火墙 - 防火墙 (或等效技术)**

由于 PCI DSS 审核未专门评估此类别，因此需要执行以下操作：

* 演示防火墙仅支持所有非控制台管理接口上的强加密。

* 演示向 Internet 公开的防火墙的非控制台管理接口支持 MFA。

如果部署了Web 应用程序防火墙 (WAF) ，以帮助防范应用程序可能暴露的无数 Web 应用程序威胁和漏洞，则会提供额外的信用额度。 如果存在 WAF 或类似项，则需要执行以下操作：

* 演示 WAF 是在主动防御模式下配置的，或者通过警报监视更多。

* 演示 WAF 配置为支持 SSL 卸载。

* 根据 OWASP 核心规则集 (3.0 或 3.1) 进行配置，以防范以下大多数攻击类型：

&#x2713;协议和编码问题。

&#x2713;头注入、请求走私和响应拆分。

&#x2713;文件和路径遍历攻击。

&#x2713;远程文件包含 (RFI) 攻击。

&#x2713;远程代码执行攻击。

&#x2713; PHP 注入攻击。

&#x2713;跨站点脚本攻击。

&#x2713; SQL注入攻击。

&#x2713;会话修复攻击。

**更改控件**

由于 PCI DSS 审核未专门评估更改请求过程的某些元素，因此需要执行以下操作：

* 演示在生产环境中发出更改请求之前会引发更改请求。

* 演示在投入生产之前已授权更改。

* 演示在完成更改后进行功能测试。

* 演示在进行功能测试后会注销更改请求。

**安全软件开发/部署**

由于 PCI DSS 审核没有专门访问安全软件开发和部署流程的某些元素;这需要执行以下操作：

* 代码存储库必须由 MFA 进行保护。

*   必须有足够的访问控制，以保护代码存储库免受恶意代码修改的影响。

**帐户管理**

由于 PCI DSS 审核未专门评估帐户管理流程的某些元素，因此需要执行以下操作：

* 演示如何实现授权机制来缓解重播攻击 (例如 MFA、Kerberos) 。

* 必须配置强密码策略或其他适当的缓解措施来保护用户凭据。 以下最小密码策略应用作准则： 

&#x2713;最小密码长度为 8 个字符。

&#x2713;帐户锁定阈值不超过 10 次。

&#x2713;至少五个密码的密码历史记录。

&#x2713;强制使用强密码。

* 演示是否在所有远程访问解决方案上配置了强加密。

* 如果公共 DNS 的管理不在范围内环境之外，则必须将所有能够进行 DNS 修改的用户帐户配置为使用 MFA。

**入侵检测和预防 (可选)**

由于 PCI DSS 审核未专门评估入侵检测和预防服务的某些元素 (IDPS) 过程，因此需要执行以下操作：

* 应为 TLS 检查配置 IDPS。

*   应为所有入站和出站流量配置 IDPS。

**风险管理**

由于 PCI DSS 审核没有专门评估风险评估过程的某些元素，因此需要执行以下操作：

* 演示风险评估包括影响和可能性矩阵。

**事件响应**

由于 PCI DSS 审核没有专门评估事件响应策略和流程的某些元素，因此这需要开发人员：

* 演示事件处理功能与 NIST 网络安全框架 (标识、保护、检测、响应、恢复) 一致。

## <a name="appendix-e"></a>附录 E

### <a name="evidence-collection---deltas-for-soc-2"></a>证据收集 - SOC 2 的增量

如果已达到 SOC 2 符合性，则需要在本Microsoft 365认证中审查以下增量的 (差距) 未完全涵盖在 SOC 2 中。

> [!NOTE]
> 作为Microsoft 365认证评估的一部分，认证分析师将确定映射的 SOC 2 控件中是否有任何控件未作为 SOC 2 评估的一部分包括在内，并且还可能决定对已找到包含的控件进行采样，以提供进一步的保证。 SOC 2 评估中缺少的任何要求都需要作为Microsoft 365认证评估活动的一部分包括在内。

**恶意软件保护 - 应用程序控制**

如果恶意软件保护是通过使用防病毒的，并在 SOC 2 报告中得到证明，则无需进一步调查。 如果没有防病毒措施，认证分析师将需要识别和评估应用程序控制机制的证据，以防止环境中的恶意软件爆炸。 这需要执行以下操作：

* 提供了或演示支持文档，详细介绍了如何将应用程序控制软件配置为满足特定的应用程序控制机制， (即允许列表、代码签名等) 。

* 演示应用程序审批的执行方式，并确认已完成此操作。

*   演示是否存在具有业务理由的已批准应用程序的完整列表。

*   证明在所有采样的系统组件中，应用程序控件都是按所述配置的。

**修补程序管理 - 修补**

由于 SOC 2 审核未专门评估此类别，因此需要执行以下操作：

*   任何低、中、高或严重问题都必须在正常的修补活动窗口中修补。

*   供应商不再支持软件组件和操作系统不得在环境中使用。 必须制定支持策略，以确保将不受支持的软件组件/操作系统从环境中删除，并且必须制定一个过程来确定软件组件何时过期。

**防火墙 - 防火墙**

由于 SOC 2 审核未专门评估防火墙访问控制列表的更改控件，因此需要执行以下操作：

* 演示所有允许的流量通过防火墙 () 通过授权过程，从而生成具有业务理由的所有流量的文档。

* 演示防火墙规则评审至少每六个月进行一次。

如果部署了Web 应用程序防火墙 (WAF) 或类似，以帮助防范应用程序可能暴露的无数 Web 应用程序威胁和漏洞，则会提供额外的信用额度。 如果存在 WAF 或类似项，则需要执行以下操作：

* 演示 WAF 是在主动防御模式下配置的，或者通过警报监视更多。

* 演示 WAF 配置为支持 SSL 卸载。

* 根据 OWASP 核心规则集 ( (3.0 或 3.1) 进行配置，以防止以下大多数攻击类型：

&emsp;&#x2713;协议和编码问题。

&emsp;&#x2713;头注入、请求走私和响应拆分。

&emsp;&#x2713;文件和路径遍历攻击。

&emsp;&#x2713;远程文件包含 (RFI) 攻击。

&emsp;&#x2713;远程代码执行攻击。

&emsp;&#x2713; PHP 注入攻击。

&emsp;&#x2713;跨站点脚本攻击。

&emsp;&#x2713; SQL注入攻击。

&emsp;&#x2713;会话修复攻击。

**更改控件**

由于 SOC 2 审核未专门评估更改请求过程的某些元素，因此需要开发人员：

* 演示如何将开发/测试环境与强制职责分离的生产环境分开。

* 演示如何在开发/测试环境中不使用实时数据。

* 演示在完成更改后进行功能测试。

* 演示在进行功能测试后会注销更改请求。

**安全软件开发/部署**

由于 SOC 2 审核没有专门访问安全软件开发和部署流程的某些元素;这需要执行以下操作：

*   必须具有涵盖整个软件开发生命周期的已建立和记录的软件开发过程。

*   开发人员必须至少每年接受安全软件编码培训。

*   代码存储库必须由 MFA 进行保护。

*   必须有足够的访问控制，以保护代码存储库免受恶意代码修改的影响。

**帐户管理**

由于 SOC2 审核没有专门评估帐户管理流程的某些元素，因此需要执行以下操作：

*   演示如何实现授权机制来缓解重播攻击 (例如 MFA、Kerberos) 。

*   演示如何禁用或删除 3 个月内未使用的帐户。

*   必须配置强密码策略或其他适当的缓解措施来保护用户凭据。 以下最小密码策略应用作准则：

&emsp;&#x2713;最小密码长度为 8 个字符。

&emsp;&#x2713;帐户锁定阈值不超过 10 次。

&emsp;&#x2713;至少 5 个密码的密码历史记录。

&emsp;&#x2713;强制使用强密码

*   演示是否向所有用户颁发了唯一用户帐户。

*   如果公共 DNS 的管理不在范围内环境之外，则必须将所有能够进行 DNS 修改的用户帐户配置为使用 MFA。

**入侵检测和预防 (可选) 。**

由于 SOC 2 审核未专门评估入侵检测和预防服务 (IDPS) 流程的某些元素，因此需要执行以下操作：

*   IDPS 签名应在过去一天内保持最新状态

*   应为 TLS 检查配置 IDPS

*   应为所有入站和出站流量配置 IDPS

**事件日志记录**

由于 SOC 2 审核未专门评估安全事件日志记录过程的某些元素，因此需要执行以下操作：

* 演示如何在示例集中的所有系统组件上将以下系统配置为记录以下事件

&emsp;&#x2713;用户对系统组件和应用程序 () 的访问权限。

&emsp;&#x2713;高特权用户执行的所有操作。

&emsp;&#x2713;逻辑访问尝试无效。

演示记录的事件是否包含;至少，以下信息：

&emsp;&#x2713;用户。

&emsp;&#x2713;事件类型。

&emsp;&#x2713;日期和时间。

&emsp;&#x2713;成功/失败指示器。

&emsp;&#x2713;标签来标识受影响的系统。

*   演示示例集中的所有系统组件都配置为利用时间同步，并且这些组件与主/辅助时间服务器相同。

* 演示面向公众的系统正在将日志记录到不在 DMZ 中的集中式日志记录解决方案。

*   演示面向公众的系统正在将日志记录到不在 DMZ 中的集中式日志记录解决方案。

* 演示如何保护集中式日志记录解决方案免受未经授权的日志记录数据篡改。

* 演示如何立即提供至少 30 天的日志记录数据，并保留 90 天或更长时间。

**风险管理**

由于 SOC2 审核没有专门评估风险评估过程的某些元素，因此需要执行以下操作：

* 证明至少每年进行一次正式的风险评估。

*事件响应。*

由于 SOC2 审核未专门评估事件响应策略和流程的某些元素，因此需要执行以下操作：

* 演示事件响应计划/过程包括：

&emsp;&#x2713;预期威胁模型的特定响应过程。

&emsp;&#x2713;记录的通信流程，确保及时通知主要利益干系人 (支付品牌/收购者、监管机构、监管机构、董事、客户等。

## <a name="appendix-f"></a>附录 F

### <a name="hosting-deployment-types"></a>托管部署类型

Microsoft 确认你将在不同的托管环境中部署应用程序和存储应用/外接程序代码。 Microsoft 365认证中某些安全控制措施的总体职责取决于所使用的托管环境。 附录 F 查看常见的部署类型，并根据评估过程中评估的安全控制进行映射。 已确定以下托管部署类型：

|托管类型  |说明  |
|-----|------|
|**ISV 托管**|ISV 托管类型可以定义为负责用于支持应用/外接程序环境的基础结构的位置。 这可以在物理上位于你自己的数据中心或具有共同位置服务的第三方数据中心内。 最终，你对支持的基础结构和运营环境拥有完全所有权和管理控制权。|
|**基础结构即服务 (IaaS)  (**https://azure.microsoft.com/overview/what-is-iaas/)|基础结构即服务是一项服务，可通过云服务提供商 (CSP) 代表其管理和维护物理支持基础结构。 通常，网络、存储、物理服务器和虚拟化基础结构是 CSP 的所有责任。 操作系统、中间件、运行时、数据和应用程序是你的职责。 防火墙功能也将由第三方管理和维护，但防火墙规则基础的维护通常仍由使用者负责。|
|**平台即服务/无服务器 (PaaS)** (https://azure.microsoft.com/overview/what-is-paas/)| 借助平台即服务，你将预配一个托管平台，提供可以使用的服务。 无需执行 sysadmin 函数，因为操作系统和支持基础结构由 CSP 管理。 当组织不想考虑提供 Web 服务，而是可以专注于创建 Web 应用程序源代码并在云托管 Web 服务上发布 Web 应用程序时，通常会使用此方法。  另一个示例可能是数据库服务，在该服务中，将连接提供给数据库，但支持的基础结构和数据库应用程序是从使用者中提取的。   **注意：无服务器和 PaaS 是类似的，因此出于Microsoft 365认证托管部署类型的无服务器和 PasS 被视为相同**|
|**混合托管**|使用混合托管类型，可以使用多个托管类型来支持支持环境的各个部分。 在多个 M365 堆栈中使用应用/外接程序的情况可能更多。 尽管Microsoft 365认证将支持跨多个 M365 服务开发应用/加载项，但需要根据每个适用的"托管类型映射"评估应用/加载项) 支持环境的整个 (。 有时，可以将不同的托管类型用于单个外接程序，在执行此操作时，条件的适用性仍需要遵循各种托管类型的"托管类型映射"条件。|
|**共享托管**|共享托管是在多个单个使用者共享的平台中托管环境的位置。 Microsoft 365认证规范未写入其中，因为采用云，共享托管并不常见。 如果认为正在使用此功能，请与 Microsoft 联系，因为需要创建其他要求，以考虑到此类托管类型下的其他风险。|


## <a name="appendix-g"></a>附录 G

## <a name="learn-more"></a>了解详细信息

[Microsoft 365应用符合性计划概述](~/overview.md)  
[什么是Microsoft 365应用Publisher证明？](~/docs/attestation.md)  
[什么是Microsoft 365认证？](~/docs/enterprise-app-certification-guide.md)

## <a name="glossary"></a>术语表

### <a name="aia"></a>友邦 保险

*颁发机构信息访问是用于查找颁发证书颁发机构证书的服务位置描述符。

### <a name="crl"></a>CRL

*证书吊销列表为安全套接字层 (SSL) 终结点提供了一种验证从远程主机收到的证书是否有效且值得信赖的方法。

### <a name="cvss-score"></a>CVSS 分数

*常见漏洞评分系统是一个已发布的标准，用于测量漏洞，并根据其严重性计算数值分数。

### <a name="cvss-patch-management-guidelines"></a>CVSS 修补程序管理指南

* 关键 (9.0 - 10.0) 
* 高 (7.0 - 8.9) 
* 中等 (4.0 - 6.9) 
* 低 (0.0 - 3.9) 

### <a name="dmz"></a>DMZ

*非军事化区域是物理或逻辑中间网络，直接与外部或非专有网络交互，同时使主机的内部专用网络保持独立和隔离。

### <a name="euii"></a>EUII

*最终用户可识别信息*。

### <a name="gdpr"></a>GDPR

*《一般数据保护条例》是欧盟 (欧盟) 隐私和数据保护法规，适用于所有欧盟公民的数据，而不考虑应用程序站点所在的位置。

### <a name="hsts"></a>HSTS

*HTTP 严格传输安全性使用 HTTP 响应标头，指示 Web 浏览器仅通过 HTTPS 访问内容。  这旨在防止降级攻击和 Cookie 劫持。

### <a name="iec"></a>IEC

*国际电工委员会。

### <a name="isms"></a>主义

*信息安全管理系统。

### <a name="isv"></a>ISV

独立安全供应商是开发、销售在第三方软件和硬件平台上运行的软件的个人和组织。

### <a name="iso-27001"></a>ISO 27001

组织风险管理策略和流程中所有技术控制的信息安全管理系统规范框架。

### <a name="lfi"></a>LFI

*本地文件包含* 允许攻击者通过 Web 浏览器在服务器上包含文件。

### <a name="nist"></a>NIST

美国商务部非监管机构 *国家标准研究所* (NIST) 为美国私营部门组织提供指导，以评估和批准它们防止、检测和应对网络攻击的能力。

### <a name="non-significant-changes"></a>非重大更改

* 次要 Bug 修复。
* 性能的次要改进。
* 操作系统/库/客户端和服务器应用程序修补程序。

### <a name="ocsp"></a>OCSP

*联机证书状态协议* 用于检查 X.509 数字证书的吊销状态。

### <a name="oii"></a>OII

*组织可识别信息*。

### <a name="owasp"></a>OWASP

*打开 Web 应用程序安全Project*。

### <a name="pci-dss"></a>PCI DSS

*支付卡行业数据安全标准*，一个维护全球持卡人数据安全标准的组织。

### <a name="pen-testing"></a>笔测试

*渗透测试* 是一种通过模拟恶意攻击来测试 Web 应用来查找攻击者可能利用的安全漏洞的方法。

### <a name="saml"></a>SAML

*安全断言标记语言* 是一种开放标准，用于在用户、标识提供者和服务提供商之间交换身份验证和授权数据。

### <a name="sensitive-data"></a>敏感数据

* 访问控制数据。
* 客户内容。
* 最终用户标识信息。
* 支持数据。
* 公共个人数据。
* 最终用户假名信息。

### <a name="significant-changes"></a>重大更改

* 宿主环境的重新定位。
* 主要升级到支持基础结构;例如，实现新的防火墙、主要升级到前置服务等。
* 向应用添加功能和 /或扩展。
* 对捕获其他敏感数据的应用的更新。
* 对应用数据流或授权模型的更改
* 添加 API 终结点或 API 终结点函数。

### <a name="soc-2"></a>SOC 2

*服务组织控制 2* 是一个技术审核过程，由五个信任服务原则组成，以确保服务提供商安全地管理组织客户端的数据和隐私。

### <a name="ssl"></a>SSL

*安全套接字层*。

### <a name="tls"></a>TLS

*传输层安全性*。
